<div class="profile-container">
  <div *ngIf="isLoading" class="spinner-container">
    <div class="spinner" role="status"></div>
  </div>

  <div *ngIf="errorMessage" class="error-message-box">
    {{ errorMessage }}
  </div>

  <div *ngIf="shop && !isLoading">
    <div class="page-header">
        <h1 class="page-title">{{ shop.name }}</h1>
        <p class="page-subtitle">{{ shop.description }}</p>
    </div>

    <div class="glass">
        <div class="shop-details">
            <div class="detail-item">
                <strong>Address:</strong>
                <span>{{ shop.address }}</span>
            </div>
            <div class="detail-item">
                <strong>Phone:</strong>
                <span>{{ shop.phone }}</span>
            </div>
            <div class="detail-item">
                <strong>Email:</strong>
                <span>{{ shop.email }}</span>
            </div>
            <div class="detail-item">
                <strong>Status:</strong>
                <span>
                    <span class="status-badge" [ngClass]="'status-' + shop.status">
                        {{ shop.status | titlecase }}
                    </span>
                </span>
            </div>
            <div class="detail-item">
                <strong>Owner:</strong>
                <span>{{ shop.owner?.first_name }} {{ shop.owner?.last_name }}</span>
            </div>
            <div class="detail-item">
                <strong>Created at:</strong>
                <span>{{ shop.createdAt | date:'medium' }}</span>
            </div>
            <div class="detail-item">
                <strong>Last updated:</strong>
                <span>{{ shop.updatedAt | date:'medium' }}</span>
            </div>
        </div>
        <div *ngIf="isOwner" class="shop-actions">
            <a [routerLink]="['/shops', shop.id, 'edit']" class="btn btn-primary">Edit Shop</a>
            <a [routerLink]="['/products']" [queryParams]="{ shop_id: shop.id }" class="btn btn-secondary">Manage Products</a>
            <button (click)="deleteShop()" class="btn btn-danger">Delete Shop</button>
        </div>
    </div>
  </div>
</div>
